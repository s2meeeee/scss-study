"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[678],{3122:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(2982),o=n(9734),i=n.n(o),a=n(9983),s=n.n(a),u=n(7294),d=n(1757),f=n(7487),l=n(9598),c=("undefined"!=typeof window&&window,function(e){var t,n,o=e.comments,a=e.data,c=e.filters,m=e.isBraveBrowser,v=e.isFilmComment,k=e.likes,y=e.setComment,g=e.setLike,w=e.supportsPush,p=a.allMarkdownRemark.edges,b=(0,u.useState)(null),h=b[0],E=b[1];(0,u.useEffect)((function(){var e=function(e){32===e.keyCode&&null===v&&(e.preventDefault(),h===(null==p?void 0:p.length)-1||null===h?E(0):E(h+1))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[v,h,E]),(0,u.useEffect)((function(){if(null!==h&&h>=0&&"undefined"!=typeof window){var e=document.getElementById("entry-"+h),t=document.getElementById("filter-bar"),n=e.getBoundingClientRect().top+window.pageYOffset+-1*t.offsetHeight;window.scrollTo({top:n,behavior:"smooth"})}}),[h]);var B=(0,u.useMemo)((function(){var e=(0,r.Z)(p);if(!c)return e;var t=l.Z.filter.find((function(e){return e.id===c.filter})).id;switch(t){case"everything":break;case"2000s":e=e.filter((function(e){return e.node.frontmatter.year>1999}));break;case"1990s":e=e.filter((function(e){return e.node.frontmatter.year>1989&&e.node.frontmatter.year<2e3}));break;case"1980s":e=e.filter((function(e){return e.node.frontmatter.year>1979&&e.node.frontmatter.year<1990}));break;case"1970s":e=e.filter((function(e){return e.node.frontmatter.year>1969&&e.node.frontmatter.year<1980}));break;case"pre-1970":e=e.filter((function(e){return e.node.frontmatter.year<1970}));break;default:e=e.filter((function(e){var n;return(null===(n=e.node.frontmatter)||void 0===n?void 0:n.genres)&&e.node.frontmatter.genres.includes(t)}))}var n=l.Z.sort.find((function(e){return e.id===c.sort})).id;switch(n){case"random":e=s()(e);break;case"release-year":e=i()(e,[function(e){return e.node.frontmatter.year}]);break;case"title":e=i()(e,[function(e){return e.node.frontmatter.title.toLowerCase()}]);break;case"votes":var o=[];k.forEach((function(e){var t=o.findIndex((function(t){return t.filmId===e.filmId}));t>=0?o[t].likes=e.isLiked?o[t].likes+1:o[t].likes-1:o=[].concat((0,r.Z)(o),[{filmId:e.filmId,likes:e.isLiked?1:-1}])})),o=i()(o,[function(e){return e.likes}]),e=o.map((function(t){var n=e.find((function(e){return e.node.frontmatter.index===t.filmId}));if(n)return Object.assign({},n)}));break;default:e=i()(e,[function(e){return e.node.frontmatter.date}]).reverse()}var a=l.Z.sortDirection.find((function(e){return e.id===c.sortDirection})).id;if("descending"===a)e=e.reverse();return e}),[c]),I=null==B||null===(t=B[0].node)||void 0===t||null===(n=t.frontmatter)||void 0===n?void 0:n.poster;return u.createElement(u.Fragment,null,u.createElement(f.Z,{image:"https://besthorrorscenes.com/posters/"+I,title:"Home",url:"https://besthorrorscenes.com"}),B&&(null==B?void 0:B.length)>0?B.map((function(e,t){var n=e.node,r=n.frontmatter,i=n.html,a=k?k.filter((function(e){return e.filmId===r.index})):[];return u.createElement(d.Z,{comments:o,content:i,director:r.director,entryNumber:r.index,index:t,isBraveBrowser:m,key:"entry-"+r.index,likes:a,poster:r.poster,rating:r.rating,setComment:y,setLike:g,slug:r.path,standalone:!1,suggestedBy:r.suggestedBy,supportsPush:w,title:r.title,url:r.url,year:r.year})})):u.createElement("div",{className:"index-module--NoResults--eWDw8"},"No results."))})}}]);
//# sourceMappingURL=component---src-pages-index-js-d3f6f02ac494cf3fde6b.js.map